<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Nimbus Beacon Chain Book</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="validator.html"><strong aria-hidden="true">2.</strong> Become a Validator</a></li><li class="chapter-item expanded "><a href="install.html"><strong aria-hidden="true">3.</strong> Installation</a></li><li class="chapter-item expanded "><a href="cli.html"><strong aria-hidden="true">4.</strong> Command-line Options</a></li><li class="chapter-item expanded "><a href="advanced.html"><strong aria-hidden="true">5.</strong> Advanced Usage for Developers</a></li><li class="chapter-item expanded "><a href="faq.html"><strong aria-hidden="true">6.</strong> FAQs</a></li><li class="chapter-item expanded "><a href="contribute.html"><strong aria-hidden="true">7.</strong> Contribute</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The Nimbus Beacon Chain Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#the-nim-beacon-chain-book" id="the-nim-beacon-chain-book">The nim-beacon-chain Book</a></h1>
<p><em>Documentation for Nimbus Beacon Chain users and developers.</em></p>
<p>Nimbus beacon chain is a research implementation of the beacon chain component of the upcoming Ethereum Serenity upgrade, aka Eth2.</p>
<ul>
<li>Open sourced at <a href="https://github.com/status-im/nim-beacon-chain/tree/master">github.com/status-im/nim-beacon-chain</a>.</li>
<li>Specification of our implementation can be found at <a href="https://github.com/ethereum/eth2.0-specs/tree/v0.11.1#phase-0">ethereum/eth2.0-specs</a>.</li>
</ul>
<h2><a class="header" href="#overview" id="overview">Overview</a></h2>
<p>In this book, we will cover:</p>
<ol>
<li><a href="./faq.html#1-what-is-beacon-chain">What is beacon chain</a> and <a href="./faq.html#4-what-is-nimbus">what is Nimbus</a> to equip you with some basic knowledge.</li>
<li>How to <a href="./validator.html">become a validator</a> in Ethereum 2.0 as a user.</li>
<li><a href="./install.html">Installation steps</a> for nimbus beacon chain.</li>
<li><a href="./cli.html">CLI</a> for running your customized nimbus beacon node.</li>
<li><a href="./advanced.html">Advanced usage</a> for developers.</li>
<li>Common <a href="./faq.html">questions and answers</a> to satisfy your curiosity.</li>
<li>How to <a href="./contribute.html">contribute</a> to this book.</li>
</ol>
<p>Feel free to give us feedback on how to improve as well as contribute to our book on github. :)</p>
<h2><a class="header" href="#disclaimer" id="disclaimer">Disclaimer</a></h2>
<p>This documentation is assuming Nimbus is in its ideal state. The project is still under active development. Please submit Github issues if encountered any problem.</p>
<!-- > > > TODO:

1. fill up the gitbook content
2. write questions in the faq.md page -->
<h1><a class="header" href="#become-a-validator" id="become-a-validator">Become a Validator</a></h1>
<p>To become a validator, you have to first connect to a testnet, deposit your Ethers, and sync with the network.</p>
<h2><a class="header" href="#recommended-testnets" id="recommended-testnets">Recommended Testnets</a></h2>
<p>Though Nimbus can connect to any of the testnets published in the <a href="https://github.com/eth2-clients/eth2-testnets/tree/master/nimbus">eth2-clients/eth2-testnets repo</a>, below are the recommended ones:</p>
<ul>
<li>Public Testnet: <a href="https://github.com/goerli/witti">witti</a> (<a href="https://witti.beaconcha.in">explorer</a>)</li>
<li>Local Testnet: testnet0 (currently not available)</li>
</ul>
<h2><a class="header" href="#connecting-to-testnets" id="connecting-to-testnets">Connecting to Testnets</a></h2>
<p>Before we start, we have to obtain 32 Ethers on the Goerli testnet. Then, we can deposit 32 Ethers to the registration smart contract to become a validator.</p>
<ol>
<li>Open your <a href="https://metamask.io/">MetaMask</a> wallet, switch to the <code>Goerli Test Network</code> option from the top right corner.</li>
<li>Copy your account address by clicking on one of your accounts.</li>
<li>Post your account address on a social media platform (Twitter or Facebook). Copy the url to the post.</li>
<li>Paste your post url on the <a href="https://faucet.goerli.mudit.blog/">Goerli faucet</a> and select <code>Give me Ether &gt; 37.5 Ethers</code> from the top right cornor of the page.</li>
<li>Wait for a few seconds and return to your MetaMask wallet to check if you have successfully received.</li>
<li>Once the <a href="./install.html">prerequisites</a> are installed, you can connect to the witti testnet with the following commands: <br></li>
</ol>
<ul>
<li>Change <code>witti</code> to <code>testnet0</code> to connect to testnet0.</li>
<li><strong><em>Remember to replace <code>make</code> with <code>mingw32-make</code> if using Windows.</em></strong></li>
</ul>
<pre><code class="language-bash">git clone https://github.com/status-im/nim-beacon-chain
cd nim-beacon-chain
git checkout devel
git pull
make update
make witti        # This will build Nimbus and all other dependencies
                     # and connect you to witti
</code></pre>
<img src="./img/connect_testnet.PNG" alt="" style="margin: 0 40 0 40"/>
<ol start="7">
<li>The testnet should now be up and running. Then, you will be prompted to enter your private key of the account you want to deposit the 32 Ether from. Find your private key from MetaMask as below:</li>
</ol>
<img src="./img/export_pkey.PNG" alt="" width="200" style="margin: 0 40 0 40"/>
<img src="./img/enter_private_key.PNG" alt="" style="margin: 0 40 0 40"/>
<ol start="8">
<li>Wait for a few seconds until you see that your deposit has been sent:</li>
</ol>
<img src="./img/deposit_sent.PNG" alt="" style="margin: 0 40 0 40"/>
<ol start="9">
<li>Now you should be syncing with the network. It may take a while (may be quite a few hours). You can know that you are synced if you see the following output.</li>
</ol>
<img src="./img/success.PNG" alt="" style="margin: 0 40 0 40"/>
<p>You can also get a brief estimate of the time remaining until your network gets synced by comparing the output <code>epoch</code> value and the one in the blockchain explorer (the <a href="https://witti.beaconcha.in">witti explorer</a> for example).</p>
<h2><a class="header" href="#trouble-shooting" id="trouble-shooting">Trouble Shooting</a></h2>
<ol>
<li>
<p>The directory that stores the blockchain data of the testnet is <code>build/data/shared_witti_0</code> (replace <code>witti</code> with other testnet names). Delete this folder if you want to start over. For example, you can start over with a fresh storage if you entered a wrong private key.</p>
</li>
<li>
<p>Currently, you have to switch to the devel branch in order to run the validator node successfully.</p>
</li>
<li>
<p>Everytime you want to update your node to the latest version, run <code>git pull</code>, <code>make update</code>, and then <code>make witti</code>.</p>
</li>
<li>
<p>If <code>make update</code> has been running for too long, you can use <code>make update V=1</code> or <code>make update V=2</code> for verbose output.</p>
</li>
</ol>
<h1><a class="header" href="#installation" id="installation">Installation</a></h1>
<p>Beacon chain can run on Linux, macOS, Windows, and Android. At the moment, Nimbus has to be built from source.</p>
<h2><a class="header" href="#external-dependencies" id="external-dependencies">External Dependencies</a></h2>
<ul>
<li>Developer tools (C compiler, Make, Bash, Git)</li>
<li>PCRE</li>
</ul>
<p>Nim is not an external dependency, Nimbus will build its own local copy.</p>
<h2><a class="header" href="#linux" id="linux">Linux</a></h2>
<p>On common Linux distributions the dependencies can be installed with:</p>
<pre><code class="language-sh"># Debian and Ubuntu
sudo apt-get install build-essential git libpcre3-dev

# Fedora
dnf install @development-tools pcre

# Archlinux, using an AUR manager for pcre-static
yourAURmanager -S base-devel pcre-static
</code></pre>
<h3><a class="header" href="#macos" id="macos">macOS</a></h3>
<p>Assuming you use <a href="https://brew.sh/">Homebrew</a> to manage packages</p>
<pre><code class="language-sh">brew install pcre
</code></pre>
<h3><a class="header" href="#windows" id="windows">Windows</a></h3>
<p>You can install the developer tools by following the instruction in our <a href="./advanced.html#windows-dev-environment">Windows dev environment section</a>.
It also provides a downloading script for prebuilt PCRE.</p>
<h3><a class="header" href="#android" id="android">Android</a></h3>
<ul>
<li>Install the <a href="https://termux.com">Termux</a> app from FDroid or the Google Play store</li>
<li>Install a <a href="https://wiki.termux.com/wiki/PRoot">PRoot</a> of your choice following the instructions for your preferred distribution.
Note, the Ubuntu PRoot is known to contain all Nimbus prerequisites compiled on Arm64 architecture (common architecture for Android devices).</li>
</ul>
<p><em>Assuming Ubuntu PRoot is used</em></p>
<pre><code class="language-sh">apt install build-essential git libpcre3-dev
</code></pre>
<h1><a class="header" href="#command-line-options" id="command-line-options">Command-line Options</a></h1>
<p>You can run your customized beacon node using the beacon_node executable. The available options are shown below.</p>
<h2><a class="header" href="#prerequisites" id="prerequisites">Prerequisites</a></h2>
<p>Specifying a genesis file is mandatory to run this executable. You can either get it from the official eth2 repository <a href="https://github.com/eth2-clients/eth2-testnets/blob/master/shared/witti/genesis.ssz">here</a> or generate your own like <a href="https://github.com/status-im/nim-beacon-chain/blob/db92c2f2549a339be60896c3907cefdb394b5e11/scripts/launch_local_testnet.sh#L154">this</a> when starting a local testnet. You can also specify the path of your genesis file like <a href="https://github.com/status-im/nim-beacon-chain/blob/db92c2f2549a339be60896c3907cefdb394b5e11/scripts/launch_local_testnet.sh#L229">this</a>.</p>
<p>For example, download a genesis file and then run the following command to start the node:</p>
<img src="./img/beacon_node_example.PNG" alt="" style="margin: 0 40 0 40"/>
<h2><a class="header" href="#usage" id="usage">Usage</a></h2>
<pre><code>$ ./build/beacon_node --help
Nimbus beacon node v0.3.0 (e537ed9
)
Copyright (c) 2019-2020 Status Research &amp; Development GmbH

Nim Compiler Version 1.3.1 [Windows: amd64]
Compiled at 2020-04-16
Copyright (c) 2006-2020 by Andreas Rumpf

git hash: b4e9f8e814373fc38741736197d88475663ce758
active boot switches: -d:release


Usage:

beacon_node [OPTIONS]... command

The following options are available:

     --log-level             Sets the log level.
     --eth1-network          The Eth1 network tracked by the beacon node.
     --quick-start           Run in quickstart mode
 -d, --data-dir              The directory where nimbus will store all blockchain data.
     --web3-url              URL of the Web3 server to observe Eth1.
     --deposit-contract      Address of the deposit contract.
 -b, --bootstrap-node        Specifies one or more bootstrap nodes to use when connecting to the
                             network.
     --bootstrap-file        Specifies a line-delimited file of bootstrap Ethereum network addresses.
     --listen-address        Listening address for the Ethereum LibP2P traffic.
     --tcp-port              Listening TCP port for Ethereum LibP2P traffic.
     --udp-port              Listening UDP port for node discovery.
     --max-peers             The maximum number of peers to connect to
     --nat                   Specify method to use for determining public address. Must be one of: any,
                             none, upnp, pmp, extip:&lt;IP&gt;.
 -v, --validator             Path to a validator private key, as generated by makeDeposits.
 -s, --state-snapshot        Json file specifying a recent state snapshot.
     --node-name             A name for this node that will appear in the logs. If you set this to
                             'auto', a persistent automatically generated ID will be selected for each
                             --dataDir folder.
     --verify-finalization   Specify whether to verify finalization occurs on schedule, for testing.
     --stop-at-epoch         A positive epoch selects the epoch at which to stop.
     --metrics               Enable the metrics server.
     --metrics-address       Listening address of the metrics server.
     --metrics-port          Listening HTTP port of the metrics server.
     --status-bar            Display a status bar at the bottom of the terminal screen.
     --status-bar-contents   Textual template for the contents of the status bar.
     --rpc                   Enable the JSON-RPC server
     --rpc-port              HTTP port for the JSON-RPC service.
     --rpc-address           Listening address of the RPC server
     --dump                  Write SSZ dumps of blocks, attestations and states to data dir

Available sub-commands:

beacon_node importValidator [OPTIONS]...

The following options are available:

     --keyfile               File with validator key to be imported (in hex form).

beacon_node createTestnet [OPTIONS]...

The following options are available:

 -d, --validators-dir        Directory containing validator descriptors named 'vXXXXXXX.deposit.json'.
     --total-validators      The number of validators in the newly created chain.
     --first-validator       Index of first validator to add to validator list.
     --last-user-validator   The last validator index that will free for taking from a testnet
                             participant.
     --bootstrap-address     The public IP address that will be advertised as a bootstrap node for the
                             testnet.
     --bootstrap-port        The TCP/UDP port that will be used by the bootstrap node.
 -g, --genesis-offset        Seconds from now to add to genesis time.
     --output-genesis        Output file where to write the initial state snapshot.
     --with-genesis-root     Include a genesis root in 'network.json'.
     --output-bootstrap-file  Output file with list of bootstrap nodes for the network.

beacon_node makeDeposits [OPTIONS]...

The following options are available:

     --quickstart-deposits   Number of quick-start deposits to generate.
     --random-deposits       Number of secure random deposits to generate.
     --deposits-dir          Folder to write deposits to.
     --deposit-private-key   Private key of the controlling (sending) account
     --min-delay             Minimum possible delay between making two deposits (in seconds)
     --max-delay             Maximum possible delay between making two deposits (in seconds)

beacon_node query command

Available sub-commands:

beacon_node query get &lt;getQueryPath&gt;
&lt;getQueryPath&gt;                REST API path to evaluate
</code></pre>
<h1><a class="header" href="#advanced-usage-for-developers" id="advanced-usage-for-developers">Advanced Usage for Developers</a></h1>
<p>Latest updates happen in the <code>devel</code> branch which is merged into <code>master</code> every week on Tuesday before deploying a new testnets
The following sections explain how to setup your build environment on your platform.</p>
<h3><a class="header" href="#windows-dev-environment" id="windows-dev-environment">Windows dev environment</a></h3>
<p>Install Mingw-w64 for your architecture using the &quot;<a href="https://sourceforge.net/projects/mingw-w64/files/">MinGW-W64 Online
Installer</a>&quot; (first link
under the directory listing). Run it and select your architecture in the setup
menu (<code>i686</code> on 32-bit, <code>x86_64</code> on 64-bit), set the threads to <code>win32</code> and
the exceptions to &quot;dwarf&quot; on 32-bit and &quot;seh&quot; on 64-bit. Change the
installation directory to &quot;C:\mingw-w64&quot; and add it to your system PATH in &quot;My
Computer&quot;/&quot;This PC&quot; -&gt; Properties -&gt; Advanced system settings -&gt; Environment
Variables -&gt; Path -&gt; Edit -&gt; New -&gt; C:\mingw-w64\mingw64\bin (it's &quot;C:\mingw-w64\mingw32\bin&quot; on 32-bit)</p>
<p>Install <a href="https://gitforwindows.org/">Git for Windows</a> and use a &quot;Git Bash&quot; shell to clone and build nim-beacon-chain.</p>
<p>If you don't want to compile PCRE separately, you can fetch pre-compiled DLLs with:</p>
<pre><code class="language-bash">mingw32-make # this first invocation will update the Git submodules
mingw32-make fetch-dlls # this will place the right DLLs for your architecture in the &quot;build/&quot; directory
</code></pre>
<blockquote>
<p>If you were following the Windows testnet instructions, you can jump back to <a href="advanced.html#connecting-to-testnets">Connecting to testnets</a> now</p>
</blockquote>
<p>You can now follow those instructions in the previous section by replacing <code>make</code> with <code>mingw32-make</code> (regardless of your 32-bit or 64-bit architecture):</p>
<pre><code class="language-bash">mingw32-make test # run the test suite
</code></pre>
<h3><a class="header" href="#linux-macos" id="linux-macos">Linux, macOS</a></h3>
<p>After cloning the repo:</p>
<pre><code class="language-bash"># Build beacon_node and all the tools, using 4 parallel Make jobs
make -j4

# Run tests
make test

# Update to latest version
git pull
make update
</code></pre>
<p>To run a command that might use binaries from the Status Nim fork:</p>
<pre><code class="language-bash">./env.sh bash # start a new interactive shell with the right env vars set
which nim
nim --version # Nimbus is tested and supported on 1.0.2 at the moment

# or without starting a new interactive shell:
./env.sh which nim
./env.sh nim --version
</code></pre>
<h3><a class="header" href="#raspberry-pi" id="raspberry-pi">Raspberry Pi</a></h3>
<p>We recommend you remove any cover or use a fan; the Raspberry Pi will get hot (85Â°C) and throttle.</p>
<ul>
<li>Raspberry PI 3b+ or Raspberry Pi 4b.</li>
<li>64gb SD Card (less might work too, but the default recommended 4-8GB will probably be too small)</li>
<li><a href="https://www.raspberrypi.org/downloads/raspbian/">Raspbian Buster Lite</a> - Lite version is enough to get going and will save some disk space!</li>
</ul>
<p>Assuming you're working with a freshly written image:</p>
<pre><code class="language-bash">
# Start by increasing swap size to 2gb:
sudo vi /etc/dphys-swapfile
# Set CONF_SWAPSIZE=2048
# :wq
sudo reboot

# Install prerequisites
sudo apt-get install git libgflags-dev libsnappy-dev libpcre3-dev

# Then you can follow instructions for Linux.

</code></pre>
<h3><a class="header" href="#makefile-tips-and-tricks-for-developers" id="makefile-tips-and-tricks-for-developers">Makefile tips and tricks for developers</a></h3>
<ul>
<li>build all those tools known to the Makefile:</li>
</ul>
<pre><code class="language-bash"># $(nproc) corresponds to the number of cores you have
make -j$(nproc)
</code></pre>
<ul>
<li>build a specific tool:</li>
</ul>
<pre><code class="language-bash">make state_sim
</code></pre>
<ul>
<li>you can control the Makefile's verbosity with the V variable (defaults to 0):</li>
</ul>
<pre><code class="language-bash">make V=1 # verbose
make V=2 test # even more verbose
</code></pre>
<ul>
<li>same for the <a href="https://github.com/status-im/nim-chronicles#chronicles_log_level">Chronicles log level</a>:</li>
</ul>
<pre><code class="language-bash">make LOG_LEVEL=DEBUG bench_bls_sig_agggregation # this is the default
make LOG_LEVEL=TRACE beacon_node # log everything
</code></pre>
<ul>
<li>pass arbitrary parameters to the Nim compiler:</li>
</ul>
<pre><code class="language-bash">make NIMFLAGS=&quot;-d:release&quot;
</code></pre>
<ul>
<li>you can freely combine those variables on the <code>make</code> command line:</li>
</ul>
<pre><code class="language-bash">make -j$(nproc) NIMFLAGS=&quot;-d:release&quot; USE_MULTITAIL=yes eth2_network_simulation
</code></pre>
<ul>
<li>don't use the <a href="https://github.com/status-im/nim-beacon-chain/pull/745">lightweight stack tracing implementation from nim-libbacktrace</a>:</li>
</ul>
<pre><code class="language-bash">make USE_LIBBACKTRACE=0 # expect the resulting binaries to be 2-3 times slower
</code></pre>
<h1><a class="header" href="#frequently-asked-questions" id="frequently-asked-questions">Frequently Asked Questions</a></h1>
<h2><a class="header" href="#1-what-is-beacon-chain" id="1-what-is-beacon-chain">1. What is Beacon Chain?</a></h2>
<p>A complete introduction about the beacon chain can be found in the <a href="https://our.status.im/two-point-oh-the-beacon-chain/">Ethereum 2.0 blog series</a>.</p>
<p>In short, the beacon chain is a <strong>new type of blockchain</strong> to help the Ethereum blockchain to smoothly transfer its consensus algorithm from PoW (Proof of Work) to PoS (Proof of Stake), aka Ethereum 2.0.</p>
<h2><a class="header" href="#2-differences-between-beacon-chain-and-ethereum-10" id="2-differences-between-beacon-chain-and-ethereum-10">2. Differences Between Beacon Chain and Ethereum 1.0</a></h2>
<p>In traditional PoW, those that propose new blocks are called <strong><em>miners</em></strong>, whereas in PoS, they are called <strong><em>validators</em></strong>. In essence, <em>miners</em> rely on actual hardware (such as some specifically manufactured mining machines), while <em>validators</em> rely on just software and a good network connection.</p>
<h2><a class="header" href="#3-what-it-is-like-to-be-a-validator" id="3-what-it-is-like-to-be-a-validator">3. What it is Like to Be a Validator?</a></h2>
<p>It is obvious that you must have enough computing power or dedicated hardware in order to be a miner, but how about being a validator? Here is a brief overview:</p>
<ol>
<li>A special smart contract named <strong><em>deposit contract</em></strong> is deployed on the original Ethereum blockchain. Note that in this case, the new beacon chain and the original blockchain co-exists.</li>
<li>To &quot;register&quot; as a validator, you have to first deposit <strong><em>32 Ether</em></strong> from your account to this smart contract.</li>
<li>Run the beacon node and wait for the network to sync before your validator is activated.</li>
<li>That's all! Remember to stay connected to the network, or you may lose some of your deposit, as punishment, depending on how long you're offline. :P</li>
</ol>
<h2><a class="header" href="#4-what-is-nimbus" id="4-what-is-nimbus">4. What is Nimbus?</a></h2>
<p>In a sentence, Nimbus is an Ethereum 1.0 &amp; 2.0 Client for Resource-Restricted Devices.</p>
<p>It is open sourced at <a href="github.com/status-im/nimbus">github.com/status-im/nimbus</a>. Development progress and updates can be viewed at the <a href="https://our.status.im/tag/nimbus/">Nimbus blog</a>.</p>
<h1><a class="header" href="#contribute" id="contribute">Contribute</a></h1>
<p>Follow these steps to contribute to this book!</p>
<p>We use an utility tool called mdBook to create online books from Markdown files.</p>
<h2><a class="header" href="#before-you-start" id="before-you-start">Before You Start</a></h2>
<ol>
<li>Install mdBook from <a href="https://github.com/rust-lang/mdBook">here</a>.</li>
<li>Clone the repository by <code>git clone https://github.com/status-im/nim-beacon-chain.git</code>.</li>
<li>Go to where the Markdown files are located by <code>cd docs</code>.</li>
</ol>
<h2><a class="header" href="#real-time-update-and-preview-changes" id="real-time-update-and-preview-changes">Real-Time Update and Preview Changes</a></h2>
<ol>
<li>Run <code>mdbook serve</code> in the terminal.</li>
<li>Preview the book at <a href="http://localhost:3000">http://localhost:3000</a>.</li>
</ol>
<h2><a class="header" href="#build-and-deploy" id="build-and-deploy">Build and Deploy</a></h2>
<p>The first step is to submit a pull request to the <a href="https://github.com/status-im/nim-beacon-chain/tree/devel">devel branch</a>.
Then, after it is merged, do the following under our main repository:</p>
<ol>
<li><code>cd nim-beacon-chain</code></li>
<li><code>git checkout devel</code></li>
<li><code>git pull</code></li>
<li><code>make update</code> (This is to update the submodules to the latest version)</li>
<li><code>make publish-book</code></li>
</ol>
<h2><a class="header" href="#trouble-shooting-1" id="trouble-shooting-1">Trouble Shooting</a></h2>
<p>If you see file conflicts in the pull request, this may due to that you have created your new branch from an old version of the <code>devel</code> branch. Update your new branch using the following commands:</p>
<pre><code>git checkout devel
git pull
make update
git checkout readme
git merge devel
# use something like `git mergetool` to resolve conflicts, then read the instructions for completing the merge (usually just a `git commit`)
# check the output of `git diff devel`
</code></pre>
<p>Thank you so much for your help to the decentralized and open source community. :)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
